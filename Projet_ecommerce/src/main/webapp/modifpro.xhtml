<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<h:head>
<title>Modifier Produits</title>
</h:head>
<h:body>
<!-- CSS -->
 	<h:outputStylesheet library="css" name="monStyle.css"/>
 	
	<!-- HEADER -->
 	
 	<ui:insert name="header"> 
<ui:include src="/header.xhtml"/>
</ui:insert>
<br/><br/>


<!-- BAR MENU -->
<div class="ui-grid ui-grid-responsive">
   
<div class="ui-grid-col-3 ui-g-12 ui-md-6 ui-lg-3">
<div style="margin-left:10px">
<ui:insert name="menuBar"> 
<ui:include src="/menu.xhtml"/>
</ui:insert>
</div>
	 </div>
 <!-- CENTRE -->
  <div class="ui-grid-col-6 ui-g-12 ui-md-6 ui-lg-6">
<h1>Modifier un produit</h1>

<div class="box_resum">
     <p:messages />
<h:form id="idForm" enctype="multipart/form-data">
<h:panelGrid columns="2" styleClass="panelGridCenter">
				
						        <p:outputLabel for="produit" value="ID:" />
        <p:selectOneMenu id="produit" value="#{pMB.produit.id}" style="width:125px">
        <p:ajax event="valueChange" listener="#{pMB.modifAuto}" update="idForm"/>
            <f:selectItem itemLabel="Selectionner un produit" itemValue="" />
           <f:selectItems value="#{sessionScope.pSession}" var="p" itemValue="#{p.id}" itemLabel="#{p.id}.Produit #{p.designation}"/>
        </p:selectOneMenu>
					<p:outputLabel value="Designation:" />
					<h:inputText value="#{pMB.produit.designation}" required="true" />
				
					<p:outputLabel value="Description:" />
					<h:inputText value="#{pMB.produit.description}" required="true" />
					
					<p:outputLabel value="Categorie:" />
					<p:selectOneMenu id="categorie" value="#{pMB.categorie.id}"
						style="width:125px">
						<f:selectItem itemLabel="Selectionner une catégorie" itemValue="" />
				    		<f:selectItems value="#{sessionScope.cSession}" var="c"
							itemValue="#{c.id}" itemLabel="#{c.id}.Catégorie #{c.nom}" />
					</p:selectOneMenu>
					
					<p:outputLabel value="Prix:" />
					<h:inputText value="#{pMB.produit.prix}" />
					
					<p:outputLabel value="Quantité:" />
					<h:inputText value="#{pMB.produit.quantite}" />
					<br />
					<br />
					<h:commandButton value="Modifier un produit"
						action="#{pMB.modifPro}" styleClass="bouton" />
	</h:panelGrid>
			</h:form>
			
</div>

			<!-- Fin Centre -->
	    </div>
	    
	    </div>
</h:body>
</html>