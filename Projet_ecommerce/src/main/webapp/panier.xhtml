<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Panier</title>
</h:head>
<h:body>
	<!-- CSS -->
	<h:outputStylesheet library="css" name="monStyle.css" />

	<!-- HEADER -->

	<ui:insert name="header">
		<ui:include src="/header.xhtml" />
	</ui:insert>
	<br />
	<br />



	<div class="ui-grid ui-grid-responsive">
		<div class="ui-grid-col-3 ui-g-12 ui-md-6 ui-lg-2"></div>
		<!-- CENTRE -->
		<div class="ui-grid-col-6 ui-g-12 ui-md-6 ui-lg-9">
			<br /> <br />
			<h1>Votre panier</h1>
			<h:form id="form">

<div class="box_resum" style="text-align:center">
     <p:messages />
				<center><p:dataTable var="li" value="#{sessionScope.lsession}" id="idTab" style="width:60%;">

					<p:column>
					<table><tr><td width="30%">
						<h:graphicImage value="#{li.produit.img}" style="width:50%" />
					</td><td>
							<h:outputText value="Référence:" style="font-weight: bold" />
								<h:outputText value="#{li.produit.id}" />
								<br/>

								<h:outputText value="Nom:" style="font-weight: bold" />
								<h:outputText value="#{li.produit.designation} (#{li.produit.categorie.nom})" />
								<br/>
								<h:outputText value="Quantité:" style="font-weight: bold" />
								<h:outputText value="#{li.quantite}" />
								<br/>

								<h:outputText value="Prix:" style="font-weight: bold" />
								<h:outputText value="#{li.prix} €" />
								<br/><br/>
									<p:commandLink value="Supprimer" action="#{panMB.supprProPanier}"
							update="idTab"  styleClass="bouton">
							<f:setPropertyActionListener value="#{li.produit.id}"
								target="#{panMB.produit.id}" />
						</p:commandLink>
						</td></tr></table>
					</p:column>
						
				</p:dataTable></center>
				<br/><br/>
				<HR style="border-top: dotted 3px;color:green;"/>
		Total = #{panMB.total} €
		<br/><br/>
		<p:commandLink value="Valider votre commande"
					action="#{panMB.valider}" class="bouton" />

</div>
			</h:form>


		</div>
	</div>
</h:body>
</html>